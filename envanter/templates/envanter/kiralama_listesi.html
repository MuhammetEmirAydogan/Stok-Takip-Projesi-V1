{% extends 'envanter/base.html' %}
{% block content %}
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>Kiralama İşlemleri</h1>
        <a href="{% url 'kiralama-ekle' %}" class="btn btn-primary">Yeni Kiralama Ekle</a>
    </div>
    {% if messages %}{% for message in messages %}<div class="alert alert-success" role="alert">{{ message }}</div>{% endfor %}{% endif %}
    <table class="table table-striped table-hover shadow-sm">
        <thead class="table-dark">
            <tr><th>Araç</th><th>Müşteri</th><th>Başlangıç</th><th>Bitiş</th><th>Toplam Ücret</th><th>Durum</th></tr>
        </thead>
        <tbody>
            {% for kiralama in kiralamalar %}
            <tr>
                <td>{{ kiralama.arac.plaka }}</td>
                <td>{{ kiralama.musteri.ad_soyad_veya_unvan }}</td>
                <td>{{ kiralama.baslangic_tarihi|date:"d F Y" }}</td>
                <td>{{ kiralama.bitis_tarihi|date:"d F Y"|default:"-" }}</td>
                <td>{{ kiralama.toplam_ucret|default:"-" }} ₺</td>
                <td><span class="badge bg-info">{{ kiralama.durum }}</span></td>
            </tr>
            {% empty %}
            <tr><td colspan="6" class="text-center">Henüz kayıtlı kiralama işlemi yok.</td></tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}